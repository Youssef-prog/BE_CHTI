


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             moncode, code
    2 00000000                 export           dft
    3 00000000         
    4 00000000                 import           TabCos
    5 00000000                 import           TabSin
    6 00000000                 import           TabSig
    7 00000000         
    8 00000000         ; Im(k) = somme( x(i) * sin(ik * 2PI/n )
    9 00000000         ; avec k = donnée, x(i) = le signal, ik = index d'entree
                        trigo
   10 00000000         
   11 00000000         dft     proc                         ; r0 = k
   12 00000000         
   13 00000000 B410            push             {r4}
   14 00000002 B420            push             {r5}
   15 00000004 B440            push             {r6}
   16 00000006         
   17 00000006 F04F 0600       mov              r6, #0      ; r6 stocke la vale
                                                            ur que l'on va reto
                                                            urner 
   18 0000000A         
   19 0000000A 4912            ldr              r1, =TabSig ; r1 = @TabSig
   20 0000000C 4A12            ldr              r2, =TabSin ; r2 = @TabSin
   21 0000000E F04F 0300       mov              r3, #0      ; r3 = i
   22 00000012         boucleFor
   23 00000012 FB00 F003       mul              r0, r3      ; r0 = ik
   24 00000016         
   25 00000016 F851 CF01       ldr              r12, [r1, #1]!
   26 0000001A F851 CF01       ldr              r12, [r1, #1]! ; r12 = x(i)
   27 0000001E         
   28 0000001E EA4F 4C0C       mov              r12, r12, LSL #16
   29 00000022 EA4F 4C1C       mov              r12, r12, LSR #16
   30 00000026         
   31 00000026 2840            cmp              r0, #64     ; modulation de ik
   32 00000028 D303            bcc              dejaModuler
   33 0000002A         boucleWhile
   34 0000002A F1A0 0040       sub              r0, #64
   35 0000002E         
   36 0000002E 2840            CMP              r0, #64
   37 00000030 D8FB            bhi              boucleWhile
   38 00000032         
   39 00000032         dejaModuler
   40 00000032 F852 4013       ldr              r4, [r2, r3, LSL #1 ] ; r4 = si
                                                            n[ik modulo 64]
   41 00000036         
   42 00000036 EA4F 4404       mov              r4, r4, LSL #16
   43 0000003A EA4F 4414       mov              r4, r4, LSR #16
   44 0000003E         
   45 0000003E FB04 F50C       mul              r5, r4, r12 ; r5 = imaginaire
   46 00000042         
   47 00000042 442E            add              r6, r5
   48 00000044         
   49 00000044 F103 0301       add              r3, #1
   50 00000048 2B40            cmp              r3, #64
   51 0000004A D1E2            bne              boucleFor
   52 0000004C         
   53 0000004C 4630            mov              r0, r6
   54 0000004E         
   55 0000004E BC40            pop              {r6}



ARM Macro Assembler    Page 2 


   56 00000050 BC20            pop              {r5}
   57 00000052 BC10            pop              {r4}
   58 00000054         
   59 00000054                 endp
   60 00000054         
   61 00000054                 end
              00000000 
              00000000 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\obj\dft.d -o.\obj\dft.o -I.\RTE\_Simu -IC:\Keil_v5\ARM\PACK\ARM\
CMSIS\5.3.0\CMSIS\Include -IC:\Keil_v5\ARM\PACK\Keil\STM32F1xx_DFP\2.2.0\Device
\Include --predefine="__EVAL SETA 1" --predefine="__MICROLIB SETA 1" --predefin
e="__UVISION_VERSION SETA 525" --predefine="_RTE_ SETA 1" --predefine="STM32F10
X_MD SETA 1" --list=dft.lst dft.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

boucleFor 00000012

Symbol: boucleFor
   Definitions
      At line 22 in file dft.s
   Uses
      At line 51 in file dft.s
Comment: boucleFor used once
boucleWhile 0000002A

Symbol: boucleWhile
   Definitions
      At line 33 in file dft.s
   Uses
      At line 37 in file dft.s
Comment: boucleWhile used once
dejaModuler 00000032

Symbol: dejaModuler
   Definitions
      At line 39 in file dft.s
   Uses
      At line 32 in file dft.s
Comment: dejaModuler used once
dft 00000000

Symbol: dft
   Definitions
      At line 11 in file dft.s
   Uses
      At line 2 in file dft.s
Comment: dft used once
moncode 00000000

Symbol: moncode
   Definitions
      At line 1 in file dft.s
   Uses
      None
Comment: moncode unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

TabCos 00000000

Symbol: TabCos
   Definitions
      At line 4 in file dft.s
   Uses
      None
Comment: TabCos unused
TabSig 00000000

Symbol: TabSig
   Definitions
      At line 6 in file dft.s
   Uses
      At line 19 in file dft.s
Comment: TabSig used once
TabSin 00000000

Symbol: TabSin
   Definitions
      At line 5 in file dft.s
   Uses
      At line 20 in file dft.s
Comment: TabSin used once
3 symbols
345 symbols in table
