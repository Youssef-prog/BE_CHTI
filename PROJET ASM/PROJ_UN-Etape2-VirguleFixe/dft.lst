


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             monconde, code
    2 00000000                 export           dft
    3 00000000         
    4 00000000                 import           TabCos
    5 00000000                 import           TabSin
    6 00000000                 import           TabSig
    7 00000000         
    8 00000000         
    9 00000000         ; Im(k) = somme( x(i) * sin(ik * 2PI/n )
   10 00000000         ; avec k = donnée, x(i) = le signal,  ik = index d'entre
                       e trigo
   11 00000000         
   12 00000000         dft     proc                         ; r0 = k
   13 00000000         
   14 00000000 B500            push             {lr}
   15 00000002 B410            push             {r4}
   16 00000004 B420            push             {r5}
   17 00000006 B440            push             {r6}
   18 00000008 B480            push             {r7}
   19 0000000A         
   20 0000000A 4607            mov              r7, r0      ; r7 = k
   21 0000000C F04F 0600       mov              r6, #0      ; r6 stock la valeu
                                                            r que l'on va retur
                                                            n
   22 00000010         
   23 00000010         
   24 00000010         ;ldr    r1, =TabSin         ; r1 = @TabSin
   25 00000010         ;ldr    r2, =TabSig        ; r2 = @TabSig
   26 00000010 F04F 0300       mov              r3, #0      ;  r3 = i
   27 00000014         boucleFor
   28 00000014 FB03 F007       mul              r0, r3, r7  ; r0 = ik
   29 00000018         
   30 00000018         
   31 00000018         ;ldr    r12, [r1, #1]!
   32 00000018 F932 C013       ldrsh            r12, [r2, r3, lsl #1] 
                                                            ; r12 = x(i)
   33 0000001C         
   34 0000001C         
   35 0000001C EA4F 6C0C       mov              r12, r12, LSL #24
   36 00000020 EA4F 6C1C       mov              r12, r12, LSR #24
   37 00000024         
   38 00000024         
   39 00000024 F931 4013       ldrsh            r4, [r1, r3, LSL #1] ;      r4 
                                                            = sin[ik modulo 64]
                                                            
   40 00000028         
   41 00000028         
   42 00000028         ;mov    r4, r4, LSL #16
   43 00000028         ;mov    r4, r4, LSR #16
   44 00000028         
   45 00000028         
   46 00000028 FB04 F50C       mul              r5, r4, r12 ; r5 = imaginaire
   47 0000002C         
   48 0000002C 442E            add              r6, r5
   49 0000002E         
   50 0000002E F103 0301       add              r3, #1
   51 00000032 2B40            cmp              r3, #64
   52 00000034 D1EE            bne              boucleFor
   53 00000036         



ARM Macro Assembler    Page 2 


   54 00000036 4630            mov              r0, r6
   55 00000038         
   56 00000038 BC80            pop              {r7}
   57 0000003A BC40            pop              {r6}
   58 0000003C BC20            pop              {r5}
   59 0000003E BC10            pop              {r4}
   60 00000040 BD00            pop              {pc}
   61 00000042         
   62 00000042                 endp
   63 00000042         
   64 00000042                 end
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\obj\dft.d -o.\obj\dft.o -I.\RTE\_Simu -IC:\Keil_v5\ARM\PACK\ARM\
CMSIS\5.3.0\CMSIS\Include -IC:\Keil_v5\ARM\PACK\Keil\STM32F1xx_DFP\2.2.0\Device
\Include --predefine="__EVAL SETA 1" --predefine="__MICROLIB SETA 1" --predefin
e="__UVISION_VERSION SETA 525" --predefine="_RTE_ SETA 1" --predefine="STM32F10
X_MD SETA 1" --list=dft.lst dft.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

boucleFor 00000014

Symbol: boucleFor
   Definitions
      At line 27 in file dft.s
   Uses
      At line 52 in file dft.s
Comment: boucleFor used once
dft 00000000

Symbol: dft
   Definitions
      At line 12 in file dft.s
   Uses
      At line 2 in file dft.s
Comment: dft used once
monconde 00000000

Symbol: monconde
   Definitions
      At line 1 in file dft.s
   Uses
      None
Comment: monconde unused
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

TabCos 00000000

Symbol: TabCos
   Definitions
      At line 4 in file dft.s
   Uses
      None
Comment: TabCos unused
TabSig 00000000

Symbol: TabSig
   Definitions
      At line 6 in file dft.s
   Uses
      None
Comment: TabSig unused
TabSin 00000000

Symbol: TabSin
   Definitions
      At line 5 in file dft.s
   Uses
      None
Comment: TabSin unused
3 symbols
341 symbols in table
